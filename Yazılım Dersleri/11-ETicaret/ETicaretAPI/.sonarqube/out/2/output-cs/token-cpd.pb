˜

‡D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Configuration.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
{ 
static 

class 
Configuration 
{ 
public 
static 
string 
ConnectionString -
{ 	
get		 
{

  
ConfigurationManager $ 
configurationManager% 9
=: ;
new< ?
(? @
)@ A
;A B 
configurationManager $
.$ %
SetBasePath% 0
(0 1
Path1 5
.5 6
Combine6 =
(= >
	Directory> G
.G H
GetCurrentDirectoryH [
([ \
)\ ]
,] ^
$str	_ ƒ
)
ƒ „
)
„ …
;
… † 
configurationManager $
.$ %
AddJsonFile% 0
(0 1
$str1 C
)C D
;D E
return  
configurationManager +
.+ ,
GetConnectionString, ?
(? @
$str@ L
)L M
;M N
} 
} 	
} 
} ¨!
—D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Contexts\ETicaretAPIDbContext.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Contexts" *
{ 
public		 

class		  
ETicaretAPIDbContext		 %
:		& '
IdentityDbContext		( 9
<		9 :
AppUser		: A
,		A B
AppRole		C J
,		J K
string		L R
>		R S
{

 
public  
ETicaretAPIDbContext #
(# $
DbContextOptions$ 4
options5 <
)< =
:> ?
base@ D
(D E
optionsE L
)L M
{ 	
} 	
public 
DbSet 
< 
Product 
> 
Products &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
Order 
> 
Orders "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
Customer 
> 
	Customers (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
Domain 
. 
Entities $
.$ %
File% )
>) *
Files+ 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
DbSet 
< 
ProductImageFile %
>% &
ProductImageFiles' 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
DbSet 
< 
Domain 
. 
Entities $
.$ %
InvoiceFile% 0
>0 1
InvoiceFiles2 >
{? @
getA D
;D E
setF I
;I J
}K L
public 
DbSet 
< 
Basket 
> 
Baskets $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 

BasketItem 
>  
BasketItems! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
override 
async 
Task "
<" #
int# &
>& '
SaveChangesAsync( 8
(8 9
CancellationToken9 J
cancellationTokenK \
=] ^
default_ f
)f g
{ 	
var 
datas 
= 
ChangeTracker %
.% &
Entries& -
<- .

BaseEntity. 8
>8 9
(9 :
): ;
;; <
foreach 
( 
var 
entity 
in  "
datas# (
)( )
{ 
_ 
= 
entity 
. 
State  
switch! '
{ 
EntityState 
.  
Added  %
=>& (
entity) /
./ 0
Entity0 6
.6 7
CreatedDate7 B
=C D
DateTimeE M
.M N
UtcNowN T
,T U
EntityState   
.    
Modified    (
=>  ) +
entity  , 2
.  2 3
Entity  3 9
.  9 :
UpdatedDate  : E
=  F G
DateTime  H P
.  P Q
UtcNow  Q W
,  W X
_!! 
=>!! 
DateTime!! !
.!!! "
UtcNow!!" (
,!!( )
}"" 
;"" 
}## 
return$$ 
await$$ 
base$$ 
.$$ 
SaveChangesAsync$$ .
($$. /
cancellationToken$$/ @
)$$@ A
;$$A B
}%% 	
}&& 
}'' “

”D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\DesignTimeDbContextFactory.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
{ 
public 

class &
DesignTimeDbContextFactory +
:, -'
IDesignTimeDbContextFactory. I
<I J 
ETicaretAPIDbContextJ ^
>^ _
{ 
public		  
ETicaretAPIDbContext		 #
CreateDbContext		$ 3
(		3 4
string		4 :
[		: ;
]		; <
args		= A
)		A B
{

 	#
DbContextOptionsBuilder #
<# $ 
ETicaretAPIDbContext$ 8
>8 9#
dbContextOptionsBuilder: Q
=R S
newT W
(W X
)X Y
;Y Z#
dbContextOptionsBuilder #
.# $
	UseNpgsql$ -
(- .
Configuration. ;
.; <
ConnectionString< L
)L M
;M N
return 
new  
ETicaretAPIDbContext +
(+ ,#
dbContextOptionsBuilder, C
.C D
OptionsD K
)K L
;L M
} 	
} 
} Ž]
›D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20230912222802_migInit.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
migInit  
:! "
	Migration# ,
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? Y
,Y Z
nullable[ c
:c d
falsee j
)j k
,k l
UpdatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? Y
,Y Z
nullable[ c
:c d
truee i
)i j
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 3
,3 4
x5 6
=>7 9
x: ;
.; <
Id< >
)> ?
;? @
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
Stock   
=   
table   !
.  ! "
Column  " (
<  ( )
int  ) ,
>  , -
(  - .
type  . 2
:  2 3
$str  4 =
,  = >
nullable  ? G
:  G H
false  I N
)  N O
,  O P
Price!! 
=!! 
table!! !
.!!! "
Column!!" (
<!!( )
decimal!!) 0
>!!0 1
(!!1 2
type!!2 6
:!!6 7
$str!!8 A
,!!A B
nullable!!C K
:!!K L
false!!M R
)!!R S
,!!S T
CreatedDate"" 
=""  !
table""" '
.""' (
Column""( .
<"". /
DateTime""/ 7
>""7 8
(""8 9
type""9 =
:""= >
$str""? Y
,""Y Z
nullable""[ c
:""c d
false""e j
)""j k
,""k l
UpdatedDate## 
=##  !
table##" '
.##' (
Column##( .
<##. /
DateTime##/ 7
>##7 8
(##8 9
type##9 =
:##= >
$str##? Y
,##Y Z
nullable##[ c
:##c d
true##e i
)##i j
}$$ 
,$$ 
constraints%% 
:%% 
table%% "
=>%%# %
{&& 
table'' 
.'' 

PrimaryKey'' $
(''$ %
$str''% 2
,''2 3
x''4 5
=>''6 8
x''9 :
.'': ;
Id''; =
)''= >
;''> ?
}(( 
)(( 
;(( 
migrationBuilder** 
.** 
CreateTable** (
(**( )
name++ 
:++ 
$str++ 
,++ 
columns,, 
:,, 
table,, 
=>,, !
new,," %
{-- 
Id.. 
=.. 
table.. 
... 
Column.. %
<..% &
Guid..& *
>..* +
(..+ ,
type.., 0
:..0 1
$str..2 8
,..8 9
nullable..: B
:..B C
false..D I
)..I J
,..J K
Description// 
=//  !
table//" '
.//' (
Column//( .
<//. /
string/// 5
>//5 6
(//6 7
type//7 ;
://; <
$str//= C
,//C D
nullable//E M
://M N
false//O T
)//T U
,//U V
Address00 
=00 
table00 #
.00# $
Column00$ *
<00* +
string00+ 1
>001 2
(002 3
type003 7
:007 8
$str009 ?
,00? @
nullable00A I
:00I J
false00K P
)00P Q
,00Q R

CustomerId11 
=11  
table11! &
.11& '
Column11' -
<11- .
Guid11. 2
>112 3
(113 4
type114 8
:118 9
$str11: @
,11@ A
nullable11B J
:11J K
false11L Q
)11Q R
,11R S
CreatedDate22 
=22  !
table22" '
.22' (
Column22( .
<22. /
DateTime22/ 7
>227 8
(228 9
type229 =
:22= >
$str22? Y
,22Y Z
nullable22[ c
:22c d
false22e j
)22j k
,22k l
UpdatedDate33 
=33  !
table33" '
.33' (
Column33( .
<33. /
DateTime33/ 7
>337 8
(338 9
type339 =
:33= >
$str33? Y
,33Y Z
nullable33[ c
:33c d
true33e i
)33i j
}44 
,44 
constraints55 
:55 
table55 "
=>55# %
{66 
table77 
.77 

PrimaryKey77 $
(77$ %
$str77% 0
,770 1
x772 3
=>774 6
x777 8
.778 9
Id779 ;
)77; <
;77< =
table88 
.88 

ForeignKey88 $
(88$ %
name99 
:99 
$str99 >
,99> ?
column:: 
::: 
x::  !
=>::" $
x::% &
.::& '

CustomerId::' 1
,::1 2
principalTable;; &
:;;& '
$str;;( 3
,;;3 4
principalColumn<< '
:<<' (
$str<<) -
,<<- .
onDelete==  
:==  !
ReferentialAction==" 3
.==3 4
Cascade==4 ;
)==; <
;==< =
}>> 
)>> 
;>> 
migrationBuilder@@ 
.@@ 
CreateTable@@ (
(@@( )
nameAA 
:AA 
$strAA $
,AA$ %
columnsBB 
:BB 
tableBB 
=>BB !
newBB" %
{CC 
OrdersIdDD 
=DD 
tableDD $
.DD$ %
ColumnDD% +
<DD+ ,
GuidDD, 0
>DD0 1
(DD1 2
typeDD2 6
:DD6 7
$strDD8 >
,DD> ?
nullableDD@ H
:DDH I
falseDDJ O
)DDO P
,DDP Q

ProductsIdEE 
=EE  
tableEE! &
.EE& '
ColumnEE' -
<EE- .
GuidEE. 2
>EE2 3
(EE3 4
typeEE4 8
:EE8 9
$strEE: @
,EE@ A
nullableEEB J
:EEJ K
falseEEL Q
)EEQ R
}FF 
,FF 
constraintsGG 
:GG 
tableGG "
=>GG# %
{HH 
tableII 
.II 

PrimaryKeyII $
(II$ %
$strII% 6
,II6 7
xII8 9
=>II: <
newII= @
{IIA B
xIIC D
.IID E
OrdersIdIIE M
,IIM N
xIIO P
.IIP Q

ProductsIdIIQ [
}II\ ]
)II] ^
;II^ _
tableJJ 
.JJ 

ForeignKeyJJ $
(JJ$ %
nameKK 
:KK 
$strKK ?
,KK? @
columnLL 
:LL 
xLL  !
=>LL" $
xLL% &
.LL& '
OrdersIdLL' /
,LL/ 0
principalTableMM &
:MM& '
$strMM( 0
,MM0 1
principalColumnNN '
:NN' (
$strNN) -
,NN- .
onDeleteOO  
:OO  !
ReferentialActionOO" 3
.OO3 4
CascadeOO4 ;
)OO; <
;OO< =
tablePP 
.PP 

ForeignKeyPP $
(PP$ %
nameQQ 
:QQ 
$strQQ C
,QQC D
columnRR 
:RR 
xRR  !
=>RR" $
xRR% &
.RR& '

ProductsIdRR' 1
,RR1 2
principalTableSS &
:SS& '
$strSS( 2
,SS2 3
principalColumnTT '
:TT' (
$strTT) -
,TT- .
onDeleteUU  
:UU  !
ReferentialActionUU" 3
.UU3 4
CascadeUU4 ;
)UU; <
;UU< =
}VV 
)VV 
;VV 
migrationBuilderXX 
.XX 
CreateIndexXX (
(XX( )
nameYY 
:YY 
$strYY 2
,YY2 3
tableZZ 
:ZZ 
$strZZ %
,ZZ% &
column[[ 
:[[ 
$str[[ $
)[[$ %
;[[% &
migrationBuilder]] 
.]] 
CreateIndex]] (
(]]( )
name^^ 
:^^ 
$str^^ ,
,^^, -
table__ 
:__ 
$str__ 
,__  
column`` 
:`` 
$str`` $
)``$ %
;``% &
}aa 	
	protectedcc 
overridecc 
voidcc 
Downcc  $
(cc$ %
MigrationBuildercc% 5
migrationBuildercc6 F
)ccF G
{dd 	
migrationBuilderee 
.ee 
	DropTableee &
(ee& '
nameff 
:ff 
$strff $
)ff$ %
;ff% &
migrationBuilderhh 
.hh 
	DropTablehh &
(hh& '
nameii 
:ii 
$strii 
)ii 
;ii  
migrationBuilderkk 
.kk 
	DropTablekk &
(kk& '
namell 
:ll 
$strll  
)ll  !
;ll! "
migrationBuildernn 
.nn 
	DropTablenn &
(nn& '
nameoo 
:oo 
$stroo !
)oo! "
;oo" #
}pp 	
}qq 
}rr ÿ
˜D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231007205810_mig2.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig2 
: 
	Migration  )
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Discriminator !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
type9 =
:= >
$str? E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? Y
,Y Z
nullable[ c
:c d
falsee j
)j k
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
Id8 :
): ;
;; <
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
) 
; 
} 	
} 
}   Œ
˜D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231007210216_mig3.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig3 
: 
	Migration  )
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str  
,  !
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str  
,  !
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
decimal' .
>. /
(/ 0
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str 
,  
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name   
:   
$str   
,   
table!! 
:!! 
$str!! 
,!! 
type"" 
:"" 
$str"" 
,""  
nullable## 
:## 
true## 
)## 
;##  
}$$ 	
	protected&& 
override&& 
void&& 
Down&&  $
(&&$ %
MigrationBuilder&&% 5
migrationBuilder&&6 F
)&&F G
{'' 	
migrationBuilder(( 
.(( 

DropColumn(( '
(((' (
name)) 
:)) 
$str))  
,))  !
table** 
:** 
$str** 
)** 
;**  
migrationBuilder,, 
.,, 

DropColumn,, '
(,,' (
name-- 
:-- 
$str--  
,--  !
table.. 
:.. 
$str.. 
).. 
;..  
migrationBuilder00 
.00 

DropColumn00 '
(00' (
name11 
:11 
$str11 
,11 
table22 
:22 
$str22 
)22 
;22  
migrationBuilder44 
.44 

DropColumn44 '
(44' (
name55 
:55 
$str55 
,55 
table66 
:66 
$str66 
)66 
;66  
}77 	
}88 
}99 ®
›D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231008152133_mig4Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig4Yas  
:! "
	Migration# ,
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str 
,  
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
,  
table 
: 
$str 
) 
;  
} 	
} 
} ¦
›D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231014202016_mig5Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig5Yas  
:! "
	Migration# ,
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
Guid' +
>+ ,
(, -
name 
: 
$str !
,! "
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
CreateIndex (
(( )
name 
: 
$str *
,* +
table 
: 
$str 
, 
column 
: 
$str #
)# $
;$ %
migrationBuilder 
. 
AddForeignKey *
(* +
name 
: 
$str 3
,3 4
table 
: 
$str 
, 
column 
: 
$str #
,# $
principalTable 
: 
$str  *
,* +
principalColumn   
:    
$str  ! %
,  % &
onDelete!! 
:!! 
ReferentialAction!! +
.!!+ ,
Cascade!!, 3
)!!3 4
;!!4 5
}"" 	
	protected$$ 
override$$ 
void$$ 
Down$$  $
($$$ %
MigrationBuilder$$% 5
migrationBuilder$$6 F
)$$F G
{%% 	
migrationBuilder&& 
.&& 
DropForeignKey&& +
(&&+ ,
name'' 
:'' 
$str'' 3
,''3 4
table(( 
:(( 
$str(( 
)(( 
;((  
migrationBuilder** 
.** 
	DropIndex** &
(**& '
name++ 
:++ 
$str++ *
,++* +
table,, 
:,, 
$str,, 
),, 
;,,  
migrationBuilder.. 
... 

DropColumn.. '
(..' (
name// 
:// 
$str// !
,//! "
table00 
:00 
$str00 
)00 
;00  
migrationBuilder22 
.22 
	AddColumn22 &
<22& '
int22' *
>22* +
(22+ ,
name33 
:33 
$str33 
,33 
table44 
:44 
$str44 
,44 
type55 
:55 
$str55 
,55  
nullable66 
:66 
true66 
)66 
;66  
}77 	
}88 
}99 Å2
›D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231014202429_mig6Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig6Yas  
:! "
	Migration# ,
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 3
,3 4
table 
: 
$str 
) 
;  
migrationBuilder 
. 
	DropIndex &
(& '
name 
: 
$str *
,* +
table 
: 
$str 
) 
;  
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
;  
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str !
,! "
table 
: 
$str 
) 
;  
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str /
,/ 0
columns 
: 
table 
=> !
new" %
{ 
ProductImageFilesId   '
=  ( )
table  * /
.  / 0
Column  0 6
<  6 7
Guid  7 ;
>  ; <
(  < =
type  = A
:  A B
$str  C I
,  I J
nullable  K S
:  S T
false  U Z
)  Z [
,  [ \

ProductsId!! 
=!!  
table!!! &
.!!& '
Column!!' -
<!!- .
Guid!!. 2
>!!2 3
(!!3 4
type!!4 8
:!!8 9
$str!!: @
,!!@ A
nullable!!B J
:!!J K
false!!L Q
)!!Q R
}"" 
,"" 
constraints## 
:## 
table## "
=>### %
{$$ 
table%% 
.%% 

PrimaryKey%% $
(%%$ %
$str%%% A
,%%A B
x%%C D
=>%%E G
new%%H K
{%%L M
x%%N O
.%%O P
ProductImageFilesId%%P c
,%%c d
x%%e f
.%%f g

ProductsId%%g q
}%%r s
)%%s t
;%%t u
table&& 
.&& 

ForeignKey&& $
(&&$ %
name'' 
:'' 
$str'' T
,''T U
column(( 
:(( 
x((  !
=>((" $
x((% &
.((& '
ProductImageFilesId((' :
,((: ;
principalTable)) &
:))& '
$str))( /
,))/ 0
principalColumn** '
:**' (
$str**) -
,**- .
onDelete++  
:++  !
ReferentialAction++" 3
.++3 4
Cascade++4 ;
)++; <
;++< =
table,, 
.,, 

ForeignKey,, $
(,,$ %
name-- 
:-- 
$str-- N
,--N O
column.. 
:.. 
x..  !
=>.." $
x..% &
...& '

ProductsId..' 1
,..1 2
principalTable// &
://& '
$str//( 2
,//2 3
principalColumn00 '
:00' (
$str00) -
,00- .
onDelete11  
:11  !
ReferentialAction11" 3
.113 4
Cascade114 ;
)11; <
;11< =
}22 
)22 
;22 
migrationBuilder44 
.44 
CreateIndex44 (
(44( )
name55 
:55 
$str55 =
,55= >
table66 
:66 
$str66 0
,660 1
column77 
:77 
$str77 $
)77$ %
;77% &
}88 	
	protected:: 
override:: 
void:: 
Down::  $
(::$ %
MigrationBuilder::% 5
migrationBuilder::6 F
)::F G
{;; 	
migrationBuilder<< 
.<< 
	DropTable<< &
(<<& '
name== 
:== 
$str== /
)==/ 0
;==0 1
migrationBuilder?? 
.?? 
	AddColumn?? &
<??& '
decimal??' .
>??. /
(??/ 0
name@@ 
:@@ 
$str@@ 
,@@ 
tableAA 
:AA 
$strAA 
,AA 
typeBB 
:BB 
$strBB 
,BB  
nullableCC 
:CC 
trueCC 
)CC 
;CC  
migrationBuilderEE 
.EE 
	AddColumnEE &
<EE& '
GuidEE' +
>EE+ ,
(EE, -
nameFF 
:FF 
$strFF !
,FF! "
tableGG 
:GG 
$strGG 
,GG 
typeHH 
:HH 
$strHH 
,HH 
nullableII 
:II 
trueII 
)II 
;II  
migrationBuilderKK 
.KK 
CreateIndexKK (
(KK( )
nameLL 
:LL 
$strLL *
,LL* +
tableMM 
:MM 
$strMM 
,MM 
columnNN 
:NN 
$strNN #
)NN# $
;NN$ %
migrationBuilderPP 
.PP 
AddForeignKeyPP *
(PP* +
nameQQ 
:QQ 
$strQQ 3
,QQ3 4
tableRR 
:RR 
$strRR 
,RR 
columnSS 
:SS 
$strSS #
,SS# $
principalTableTT 
:TT 
$strTT  *
,TT* +
principalColumnUU 
:UU  
$strUU! %
,UU% &
onDeleteVV 
:VV 
ReferentialActionVV +
.VV+ ,
CascadeVV, 3
)VV3 4
;VV4 5
}WW 	
}XX 
}YY öÈ
›D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231020205954_mig7Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public		 

partial		 
class		 
mig7Yas		  
:		! "
	Migration		# ,
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 :
,: ;
nullable< D
:D E
falseF K
)K L
,L M
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 N
,N O
	maxLengthP Y
:Y Z
$num[ ^
,^ _
nullable` h
:h i
truej n
)n o
,o p
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ X
,X Y
	maxLengthZ c
:c d
$nume h
,h i
nullablej r
:r s
truet x
)x y
,y z
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
type< @
:@ A
$strB H
,H I
nullableJ R
:R S
trueT X
)X Y
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 :
,: ;
nullable< D
:D E
falseF K
)K L
,L M
NameSurname   
=    !
table  " '
.  ' (
Column  ( .
<  . /
string  / 5
>  5 6
(  6 7
type  7 ;
:  ; <
$str  = C
,  C D
nullable  E M
:  M N
false  O T
)  T U
,  U V
UserName!! 
=!! 
table!! $
.!!$ %
Column!!% +
<!!+ ,
string!!, 2
>!!2 3
(!!3 4
type!!4 8
:!!8 9
$str!!: R
,!!R S
	maxLength!!T ]
:!!] ^
$num!!_ b
,!!b c
nullable!!d l
:!!l m
true!!n r
)!!r s
,!!s t
NormalizedUserName"" &
=""' (
table"") .
."". /
Column""/ 5
<""5 6
string""6 <
>""< =
(""= >
type""> B
:""B C
$str""D \
,""\ ]
	maxLength""^ g
:""g h
$num""i l
,""l m
nullable""n v
:""v w
true""x |
)""| }
,""} ~
Email## 
=## 
table## !
.##! "
Column##" (
<##( )
string##) /
>##/ 0
(##0 1
type##1 5
:##5 6
$str##7 O
,##O P
	maxLength##Q Z
:##Z [
$num##\ _
,##_ `
nullable##a i
:##i j
true##k o
)##o p
,##p q
NormalizedEmail$$ #
=$$$ %
table$$& +
.$$+ ,
Column$$, 2
<$$2 3
string$$3 9
>$$9 :
($$: ;
type$$; ?
:$$? @
$str$$A Y
,$$Y Z
	maxLength$$[ d
:$$d e
$num$$f i
,$$i j
nullable$$k s
:$$s t
true$$u y
)$$y z
,$$z {
EmailConfirmed%% "
=%%# $
table%%% *
.%%* +
Column%%+ 1
<%%1 2
bool%%2 6
>%%6 7
(%%7 8
type%%8 <
:%%< =
$str%%> G
,%%G H
nullable%%I Q
:%%Q R
false%%S X
)%%X Y
,%%Y Z
PasswordHash&&  
=&&! "
table&&# (
.&&( )
Column&&) /
<&&/ 0
string&&0 6
>&&6 7
(&&7 8
type&&8 <
:&&< =
$str&&> D
,&&D E
nullable&&F N
:&&N O
true&&P T
)&&T U
,&&U V
SecurityStamp'' !
=''" #
table''$ )
.'') *
Column''* 0
<''0 1
string''1 7
>''7 8
(''8 9
type''9 =
:''= >
$str''? E
,''E F
nullable''G O
:''O P
true''Q U
)''U V
,''V W
ConcurrencyStamp(( $
=((% &
table((' ,
.((, -
Column((- 3
<((3 4
string((4 :
>((: ;
(((; <
type((< @
:((@ A
$str((B H
,((H I
nullable((J R
:((R S
true((T X
)((X Y
,((Y Z
PhoneNumber)) 
=))  !
table))" '
.))' (
Column))( .
<)). /
string))/ 5
>))5 6
())6 7
type))7 ;
:)); <
$str))= C
,))C D
nullable))E M
:))M N
true))O S
)))S T
,))T U 
PhoneNumberConfirmed** (
=**) *
table**+ 0
.**0 1
Column**1 7
<**7 8
bool**8 <
>**< =
(**= >
type**> B
:**B C
$str**D M
,**M N
nullable**O W
:**W X
false**Y ^
)**^ _
,**_ `
TwoFactorEnabled++ $
=++% &
table++' ,
.++, -
Column++- 3
<++3 4
bool++4 8
>++8 9
(++9 :
type++: >
:++> ?
$str++@ I
,++I J
nullable++K S
:++S T
false++U Z
)++Z [
,++[ \

LockoutEnd,, 
=,,  
table,,! &
.,,& '
Column,,' -
<,,- .
DateTimeOffset,,. <
>,,< =
(,,= >
type,,> B
:,,B C
$str,,D ^
,,,^ _
nullable,,` h
:,,h i
true,,j n
),,n o
,,,o p
LockoutEnabled-- "
=--# $
table--% *
.--* +
Column--+ 1
<--1 2
bool--2 6
>--6 7
(--7 8
type--8 <
:--< =
$str--> G
,--G H
nullable--I Q
:--Q R
false--S X
)--X Y
,--Y Z
AccessFailedCount.. %
=..& '
table..( -
...- .
Column... 4
<..4 5
int..5 8
>..8 9
(..9 :
type..: >
:..> ?
$str..@ I
,..I J
nullable..K S
:..S T
false..U Z
)..Z [
}// 
,// 
constraints00 
:00 
table00 "
=>00# %
{11 
table22 
.22 

PrimaryKey22 $
(22$ %
$str22% 5
,225 6
x227 8
=>229 ;
x22< =
.22= >
Id22> @
)22@ A
;22A B
}33 
)33 
;33 
migrationBuilder55 
.55 
CreateTable55 (
(55( )
name66 
:66 
$str66 (
,66( )
columns77 
:77 
table77 
=>77 !
new77" %
{88 
Id99 
=99 
table99 
.99 
Column99 %
<99% &
int99& )
>99) *
(99* +
type99+ /
:99/ 0
$str991 :
,99: ;
nullable99< D
:99D E
false99F K
)99K L
.:: 

Annotation:: #
(::# $
$str::$ D
,::D E)
NpgsqlValueGenerationStrategy::F c
.::c d#
IdentityByDefaultColumn::d {
)::{ |
,::| }
RoleId;; 
=;; 
table;; "
.;;" #
Column;;# )
<;;) *
string;;* 0
>;;0 1
(;;1 2
type;;2 6
:;;6 7
$str;;8 >
,;;> ?
nullable;;@ H
:;;H I
false;;J O
);;O P
,;;P Q
	ClaimType<< 
=<< 
table<<  %
.<<% &
Column<<& ,
<<<, -
string<<- 3
><<3 4
(<<4 5
type<<5 9
:<<9 :
$str<<; A
,<<A B
nullable<<C K
:<<K L
true<<M Q
)<<Q R
,<<R S

ClaimValue== 
===  
table==! &
.==& '
Column==' -
<==- .
string==. 4
>==4 5
(==5 6
type==6 :
:==: ;
$str==< B
,==B C
nullable==D L
:==L M
true==N R
)==R S
}>> 
,>> 
constraints?? 
:?? 
table?? "
=>??# %
{@@ 
tableAA 
.AA 

PrimaryKeyAA $
(AA$ %
$strAA% :
,AA: ;
xAA< =
=>AA> @
xAAA B
.AAB C
IdAAC E
)AAE F
;AAF G
tableBB 
.BB 

ForeignKeyBB $
(BB$ %
nameCC 
:CC 
$strCC F
,CCF G
columnDD 
:DD 
xDD  !
=>DD" $
xDD% &
.DD& '
RoleIdDD' -
,DD- .
principalTableEE &
:EE& '
$strEE( 5
,EE5 6
principalColumnFF '
:FF' (
$strFF) -
,FF- .
onDeleteGG  
:GG  !
ReferentialActionGG" 3
.GG3 4
CascadeGG4 ;
)GG; <
;GG< =
}HH 
)HH 
;HH 
migrationBuilderJJ 
.JJ 
CreateTableJJ (
(JJ( )
nameKK 
:KK 
$strKK (
,KK( )
columnsLL 
:LL 
tableLL 
=>LL !
newLL" %
{MM 
IdNN 
=NN 
tableNN 
.NN 
ColumnNN %
<NN% &
intNN& )
>NN) *
(NN* +
typeNN+ /
:NN/ 0
$strNN1 :
,NN: ;
nullableNN< D
:NND E
falseNNF K
)NNK L
.OO 

AnnotationOO #
(OO# $
$strOO$ D
,OOD E)
NpgsqlValueGenerationStrategyOOF c
.OOc d#
IdentityByDefaultColumnOOd {
)OO{ |
,OO| }
UserIdPP 
=PP 
tablePP "
.PP" #
ColumnPP# )
<PP) *
stringPP* 0
>PP0 1
(PP1 2
typePP2 6
:PP6 7
$strPP8 >
,PP> ?
nullablePP@ H
:PPH I
falsePPJ O
)PPO P
,PPP Q
	ClaimTypeQQ 
=QQ 
tableQQ  %
.QQ% &
ColumnQQ& ,
<QQ, -
stringQQ- 3
>QQ3 4
(QQ4 5
typeQQ5 9
:QQ9 :
$strQQ; A
,QQA B
nullableQQC K
:QQK L
trueQQM Q
)QQQ R
,QQR S

ClaimValueRR 
=RR  
tableRR! &
.RR& '
ColumnRR' -
<RR- .
stringRR. 4
>RR4 5
(RR5 6
typeRR6 :
:RR: ;
$strRR< B
,RRB C
nullableRRD L
:RRL M
trueRRN R
)RRR S
}SS 
,SS 
constraintsTT 
:TT 
tableTT "
=>TT# %
{UU 
tableVV 
.VV 

PrimaryKeyVV $
(VV$ %
$strVV% :
,VV: ;
xVV< =
=>VV> @
xVVA B
.VVB C
IdVVC E
)VVE F
;VVF G
tableWW 
.WW 

ForeignKeyWW $
(WW$ %
nameXX 
:XX 
$strXX F
,XXF G
columnYY 
:YY 
xYY  !
=>YY" $
xYY% &
.YY& '
UserIdYY' -
,YY- .
principalTableZZ &
:ZZ& '
$strZZ( 5
,ZZ5 6
principalColumn[[ '
:[[' (
$str[[) -
,[[- .
onDelete\\  
:\\  !
ReferentialAction\\" 3
.\\3 4
Cascade\\4 ;
)\\; <
;\\< =
}]] 
)]] 
;]] 
migrationBuilder__ 
.__ 
CreateTable__ (
(__( )
name`` 
:`` 
$str`` (
,``( )
columnsaa 
:aa 
tableaa 
=>aa !
newaa" %
{bb 
LoginProvidercc !
=cc" #
tablecc$ )
.cc) *
Columncc* 0
<cc0 1
stringcc1 7
>cc7 8
(cc8 9
typecc9 =
:cc= >
$strcc? E
,ccE F
nullableccG O
:ccO P
falseccQ V
)ccV W
,ccW X
ProviderKeydd 
=dd  !
tabledd" '
.dd' (
Columndd( .
<dd. /
stringdd/ 5
>dd5 6
(dd6 7
typedd7 ;
:dd; <
$strdd= C
,ddC D
nullableddE M
:ddM N
falseddO T
)ddT U
,ddU V
ProviderDisplayNameee '
=ee( )
tableee* /
.ee/ 0
Columnee0 6
<ee6 7
stringee7 =
>ee= >
(ee> ?
typeee? C
:eeC D
$streeE K
,eeK L
nullableeeM U
:eeU V
trueeeW [
)ee[ \
,ee\ ]
UserIdff 
=ff 
tableff "
.ff" #
Columnff# )
<ff) *
stringff* 0
>ff0 1
(ff1 2
typeff2 6
:ff6 7
$strff8 >
,ff> ?
nullableff@ H
:ffH I
falseffJ O
)ffO P
}gg 
,gg 
constraintshh 
:hh 
tablehh "
=>hh# %
{ii 
tablejj 
.jj 

PrimaryKeyjj $
(jj$ %
$strjj% :
,jj: ;
xjj< =
=>jj> @
newjjA D
{jjE F
xjjG H
.jjH I
LoginProviderjjI V
,jjV W
xjjX Y
.jjY Z
ProviderKeyjjZ e
}jjf g
)jjg h
;jjh i
tablekk 
.kk 

ForeignKeykk $
(kk$ %
namell 
:ll 
$strll F
,llF G
columnmm 
:mm 
xmm  !
=>mm" $
xmm% &
.mm& '
UserIdmm' -
,mm- .
principalTablenn &
:nn& '
$strnn( 5
,nn5 6
principalColumnoo '
:oo' (
$stroo) -
,oo- .
onDeletepp  
:pp  !
ReferentialActionpp" 3
.pp3 4
Cascadepp4 ;
)pp; <
;pp< =
}qq 
)qq 
;qq 
migrationBuilderss 
.ss 
CreateTabless (
(ss( )
namett 
:tt 
$strtt '
,tt' (
columnsuu 
:uu 
tableuu 
=>uu !
newuu" %
{vv 
UserIdww 
=ww 
tableww "
.ww" #
Columnww# )
<ww) *
stringww* 0
>ww0 1
(ww1 2
typeww2 6
:ww6 7
$strww8 >
,ww> ?
nullableww@ H
:wwH I
falsewwJ O
)wwO P
,wwP Q
RoleIdxx 
=xx 
tablexx "
.xx" #
Columnxx# )
<xx) *
stringxx* 0
>xx0 1
(xx1 2
typexx2 6
:xx6 7
$strxx8 >
,xx> ?
nullablexx@ H
:xxH I
falsexxJ O
)xxO P
}yy 
,yy 
constraintszz 
:zz 
tablezz "
=>zz# %
{{{ 
table|| 
.|| 

PrimaryKey|| $
(||$ %
$str||% 9
,||9 :
x||; <
=>||= ?
new||@ C
{||D E
x||F G
.||G H
UserId||H N
,||N O
x||P Q
.||Q R
RoleId||R X
}||Y Z
)||Z [
;||[ \
table}} 
.}} 

ForeignKey}} $
(}}$ %
name~~ 
:~~ 
$str~~ E
,~~E F
column 
: 
x  !
=>" $
x% &
.& '
RoleId' -
,- .
principalTable
€€ &
:
€€& '
$str
€€( 5
,
€€5 6
principalColumn
 '
:
' (
$str
) -
,
- .
onDelete
‚‚  
:
‚‚  !
ReferentialAction
‚‚" 3
.
‚‚3 4
Cascade
‚‚4 ;
)
‚‚; <
;
‚‚< =
table
ƒƒ 
.
ƒƒ 

ForeignKey
ƒƒ $
(
ƒƒ$ %
name
„„ 
:
„„ 
$str
„„ E
,
„„E F
column
…… 
:
…… 
x
……  !
=>
……" $
x
……% &
.
……& '
UserId
……' -
,
……- .
principalTable
†† &
:
††& '
$str
††( 5
,
††5 6
principalColumn
‡‡ '
:
‡‡' (
$str
‡‡) -
,
‡‡- .
onDelete
ˆˆ  
:
ˆˆ  !
ReferentialAction
ˆˆ" 3
.
ˆˆ3 4
Cascade
ˆˆ4 ;
)
ˆˆ; <
;
ˆˆ< =
}
‰‰ 
)
‰‰ 
;
‰‰ 
migrationBuilder
‹‹ 
.
‹‹ 
CreateTable
‹‹ (
(
‹‹( )
name
ŒŒ 
:
ŒŒ 
$str
ŒŒ (
,
ŒŒ( )
columns
 
:
 
table
 
=>
 !
new
" %
{
ŽŽ 
UserId
 
=
 
table
 "
.
" #
Column
# )
<
) *
string
* 0
>
0 1
(
1 2
type
2 6
:
6 7
$str
8 >
,
> ?
nullable
@ H
:
H I
false
J O
)
O P
,
P Q
LoginProvider
 !
=
" #
table
$ )
.
) *
Column
* 0
<
0 1
string
1 7
>
7 8
(
8 9
type
9 =
:
= >
$str
? E
,
E F
nullable
G O
:
O P
false
Q V
)
V W
,
W X
Name
‘‘ 
=
‘‘ 
table
‘‘  
.
‘‘  !
Column
‘‘! '
<
‘‘' (
string
‘‘( .
>
‘‘. /
(
‘‘/ 0
type
‘‘0 4
:
‘‘4 5
$str
‘‘6 <
,
‘‘< =
nullable
‘‘> F
:
‘‘F G
false
‘‘H M
)
‘‘M N
,
‘‘N O
Value
’’ 
=
’’ 
table
’’ !
.
’’! "
Column
’’" (
<
’’( )
string
’’) /
>
’’/ 0
(
’’0 1
type
’’1 5
:
’’5 6
$str
’’7 =
,
’’= >
nullable
’’? G
:
’’G H
true
’’I M
)
’’M N
}
““ 
,
““ 
constraints
”” 
:
”” 
table
”” "
=>
””# %
{
•• 
table
–– 
.
–– 

PrimaryKey
–– $
(
––$ %
$str
––% :
,
––: ;
x
––< =
=>
––> @
new
––A D
{
––E F
x
––G H
.
––H I
UserId
––I O
,
––O P
x
––Q R
.
––R S
LoginProvider
––S `
,
––` a
x
––b c
.
––c d
Name
––d h
}
––i j
)
––j k
;
––k l
table
—— 
.
—— 

ForeignKey
—— $
(
——$ %
name
˜˜ 
:
˜˜ 
$str
˜˜ F
,
˜˜F G
column
™™ 
:
™™ 
x
™™  !
=>
™™" $
x
™™% &
.
™™& '
UserId
™™' -
,
™™- .
principalTable
šš &
:
šš& '
$str
šš( 5
,
šš5 6
principalColumn
›› '
:
››' (
$str
››) -
,
››- .
onDelete
œœ  
:
œœ  !
ReferentialAction
œœ" 3
.
œœ3 4
Cascade
œœ4 ;
)
œœ; <
;
œœ< =
}
 
)
 
;
 
migrationBuilder
ŸŸ 
.
ŸŸ 
CreateIndex
ŸŸ (
(
ŸŸ( )
name
   
:
   
$str
   2
,
  2 3
table
¡¡ 
:
¡¡ 
$str
¡¡ )
,
¡¡) *
column
¢¢ 
:
¢¢ 
$str
¢¢  
)
¢¢  !
;
¢¢! "
migrationBuilder
¤¤ 
.
¤¤ 
CreateIndex
¤¤ (
(
¤¤( )
name
¥¥ 
:
¥¥ 
$str
¥¥ %
,
¥¥% &
table
¦¦ 
:
¦¦ 
$str
¦¦ $
,
¦¦$ %
column
§§ 
:
§§ 
$str
§§ (
,
§§( )
unique
¨¨ 
:
¨¨ 
true
¨¨ 
)
¨¨ 
;
¨¨ 
migrationBuilder
ªª 
.
ªª 
CreateIndex
ªª (
(
ªª( )
name
«« 
:
«« 
$str
«« 2
,
««2 3
table
¬¬ 
:
¬¬ 
$str
¬¬ )
,
¬¬) *
column
­­ 
:
­­ 
$str
­­  
)
­­  !
;
­­! "
migrationBuilder
¯¯ 
.
¯¯ 
CreateIndex
¯¯ (
(
¯¯( )
name
°° 
:
°° 
$str
°° 2
,
°°2 3
table
±± 
:
±± 
$str
±± )
,
±±) *
column
²² 
:
²² 
$str
²²  
)
²²  !
;
²²! "
migrationBuilder
´´ 
.
´´ 
CreateIndex
´´ (
(
´´( )
name
µµ 
:
µµ 
$str
µµ 1
,
µµ1 2
table
¶¶ 
:
¶¶ 
$str
¶¶ (
,
¶¶( )
column
·· 
:
·· 
$str
··  
)
··  !
;
··! "
migrationBuilder
¹¹ 
.
¹¹ 
CreateIndex
¹¹ (
(
¹¹( )
name
ºº 
:
ºº 
$str
ºº "
,
ºº" #
table
»» 
:
»» 
$str
»» $
,
»»$ %
column
¼¼ 
:
¼¼ 
$str
¼¼ )
)
¼¼) *
;
¼¼* +
migrationBuilder
¾¾ 
.
¾¾ 
CreateIndex
¾¾ (
(
¾¾( )
name
¿¿ 
:
¿¿ 
$str
¿¿ %
,
¿¿% &
table
ÀÀ 
:
ÀÀ 
$str
ÀÀ $
,
ÀÀ$ %
column
ÁÁ 
:
ÁÁ 
$str
ÁÁ ,
,
ÁÁ, -
unique
ÂÂ 
:
ÂÂ 
true
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÃÃ 	
	protected
ÅÅ 
override
ÅÅ 
void
ÅÅ 
Down
ÅÅ  $
(
ÅÅ$ %
MigrationBuilder
ÅÅ% 5
migrationBuilder
ÅÅ6 F
)
ÅÅF G
{
ÆÆ 	
migrationBuilder
ÇÇ 
.
ÇÇ 
	DropTable
ÇÇ &
(
ÇÇ& '
name
ÈÈ 
:
ÈÈ 
$str
ÈÈ (
)
ÈÈ( )
;
ÈÈ) *
migrationBuilder
ÊÊ 
.
ÊÊ 
	DropTable
ÊÊ &
(
ÊÊ& '
name
ËË 
:
ËË 
$str
ËË (
)
ËË( )
;
ËË) *
migrationBuilder
ÍÍ 
.
ÍÍ 
	DropTable
ÍÍ &
(
ÍÍ& '
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ (
)
ÎÎ( )
;
ÎÎ) *
migrationBuilder
ÐÐ 
.
ÐÐ 
	DropTable
ÐÐ &
(
ÐÐ& '
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ '
)
ÑÑ' (
;
ÑÑ( )
migrationBuilder
ÓÓ 
.
ÓÓ 
	DropTable
ÓÓ &
(
ÓÓ& '
name
ÔÔ 
:
ÔÔ 
$str
ÔÔ (
)
ÔÔ( )
;
ÔÔ) *
migrationBuilder
ÖÖ 
.
ÖÖ 
	DropTable
ÖÖ &
(
ÖÖ& '
name
×× 
:
×× 
$str
×× #
)
××# $
;
××$ %
migrationBuilder
ÙÙ 
.
ÙÙ 
	DropTable
ÙÙ &
(
ÙÙ& '
name
ÚÚ 
:
ÚÚ 
$str
ÚÚ #
)
ÚÚ# $
;
ÚÚ$ %
}
ÛÛ 	
}
ÜÜ 
}ÝÝ ¹
›D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231102185229_mig8Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig8Yas  
:! "
	Migration# ,
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str $
,$ %
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
DateTime' /
>/ 0
(0 1
name 
: 
$str +
,+ ,
table 
: 
$str $
,$ %
type 
: 
$str 0
,0 1
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str $
)$ %
;% &
migrationBuilder   
.   

DropColumn   '
(  ' (
name!! 
:!! 
$str!! +
,!!+ ,
table"" 
:"" 
$str"" $
)""$ %
;""% &
}## 	
}$$ 
}%% ¶
›D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231103220545_mig9Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig9Yas  
:! "
	Migration# ,
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str $
,$ %
table 
: 
$str $
,$ %
type 
: 
$str 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str 
)  
;  !
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str $
,$ %
table 
: 
$str $
,$ %
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
,  !

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str 
,  
oldNullable 
: 
true !
)! "
;" #
} 	
}   
}!! Å@
œD:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231114211335_mig10Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig10Yas !
:" #
	Migration$ -
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
UserId 
= 
table "
." #
Column# )
<) *
Guid* .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
UserId1 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 ?
,? @
nullableA I
:I J
trueK O
)O P
,P Q
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? Y
,Y Z
nullable[ c
:c d
falsee j
)j k
,k l
UpdatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? Y
,Y Z
nullable[ c
:c d
truee i
)i j
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 1
,1 2
x3 4
=>5 7
x8 9
.9 :
Id: <
)< =
;= >
table 
. 

ForeignKey $
($ %
name 
: 
$str >
,> ?
column 
: 
x  !
=>" $
x% &
.& '
UserId1' .
,. /
principalTable &
:& '
$str( 5
,5 6
principalColumn '
:' (
$str) -
)- .
;. /
} 
) 
; 
migrationBuilder   
.   
CreateTable   (
(  ( )
name!! 
:!! 
$str!! #
,!!# $
columns"" 
:"" 
table"" 
=>"" !
new""" %
{## 
Id$$ 
=$$ 
table$$ 
.$$ 
Column$$ %
<$$% &
Guid$$& *
>$$* +
($$+ ,
type$$, 0
:$$0 1
$str$$2 8
,$$8 9
nullable$$: B
:$$B C
false$$D I
)$$I J
,$$J K
BasketId%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
Guid%%, 0
>%%0 1
(%%1 2
type%%2 6
:%%6 7
$str%%8 >
,%%> ?
nullable%%@ H
:%%H I
false%%J O
)%%O P
,%%P Q
	ProductId&& 
=&& 
table&&  %
.&&% &
Column&&& ,
<&&, -
Guid&&- 1
>&&1 2
(&&2 3
type&&3 7
:&&7 8
$str&&9 ?
,&&? @
nullable&&A I
:&&I J
false&&K P
)&&P Q
,&&Q R
Quantity'' 
='' 
table'' $
.''$ %
Column''% +
<''+ ,
int'', /
>''/ 0
(''0 1
type''1 5
:''5 6
$str''7 @
,''@ A
nullable''B J
:''J K
false''L Q
)''Q R
,''R S
CreatedDate(( 
=((  !
table((" '
.((' (
Column((( .
<((. /
DateTime((/ 7
>((7 8
(((8 9
type((9 =
:((= >
$str((? Y
,((Y Z
nullable(([ c
:((c d
false((e j
)((j k
,((k l
UpdatedDate)) 
=))  !
table))" '
.))' (
Column))( .
<)). /
DateTime))/ 7
>))7 8
())8 9
type))9 =
:))= >
$str))? Y
,))Y Z
nullable))[ c
:))c d
true))e i
)))i j
}** 
,** 
constraints++ 
:++ 
table++ "
=>++# %
{,, 
table-- 
.-- 

PrimaryKey-- $
(--$ %
$str--% 5
,--5 6
x--7 8
=>--9 ;
x--< =
.--= >
Id--> @
)--@ A
;--A B
table.. 
... 

ForeignKey.. $
(..$ %
name// 
:// 
$str// ?
,//? @
column00 
:00 
x00  !
=>00" $
x00% &
.00& '
BasketId00' /
,00/ 0
principalTable11 &
:11& '
$str11( 1
,111 2
principalColumn22 '
:22' (
$str22) -
,22- .
onDelete33  
:33  !
ReferentialAction33" 3
.333 4
Cascade334 ;
)33; <
;33< =
table44 
.44 

ForeignKey44 $
(44$ %
name55 
:55 
$str55 A
,55A B
column66 
:66 
x66  !
=>66" $
x66% &
.66& '
	ProductId66' 0
,660 1
principalTable77 &
:77& '
$str77( 2
,772 3
principalColumn88 '
:88' (
$str88) -
,88- .
onDelete99  
:99  !
ReferentialAction99" 3
.993 4
Cascade994 ;
)99; <
;99< =
}:: 
):: 
;:: 
migrationBuilder<< 
.<< 
CreateIndex<< (
(<<( )
name== 
:== 
$str== /
,==/ 0
table>> 
:>> 
$str>> $
,>>$ %
column?? 
:?? 
$str?? "
)??" #
;??# $
migrationBuilderAA 
.AA 
CreateIndexAA (
(AA( )
nameBB 
:BB 
$strBB 0
,BB0 1
tableCC 
:CC 
$strCC $
,CC$ %
columnDD 
:DD 
$strDD #
)DD# $
;DD$ %
migrationBuilderFF 
.FF 
CreateIndexFF (
(FF( )
nameGG 
:GG 
$strGG *
,GG* +
tableHH 
:HH 
$strHH  
,HH  !
columnII 
:II 
$strII !
)II! "
;II" #
}JJ 	
	protectedLL 
overrideLL 
voidLL 
DownLL  $
(LL$ %
MigrationBuilderLL% 5
migrationBuilderLL6 F
)LLF G
{MM 	
migrationBuilderNN 
.NN 
	DropTableNN &
(NN& '
nameOO 
:OO 
$strOO #
)OO# $
;OO$ %
migrationBuilderQQ 
.QQ 
	DropTableQQ &
(QQ& '
nameRR 
:RR 
$strRR 
)RR  
;RR  !
}SS 	
}TT 
}UU ²)
œD:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Migrations\20231114211500_mig11Yas.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
mig11Yas !
:" #
	Migration$ -
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 6
,6 7
table 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	DropIndex &
(& '
name 
: 
$str *
,* +
table 
: 
$str  
)  !
;! "
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
,  
table 
: 
$str  
)  !
;! "
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str  
,  !
type 
: 
$str 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
Guid# '
)' (
,( )
oldType 
: 
$str 
)  
;  !
migrationBuilder   
.   
CreateIndex   (
(  ( )
name!! 
:!! 
$str!! )
,!!) *
table"" 
:"" 
$str""  
,""  !
column## 
:## 
$str##  
)##  !
;##! "
migrationBuilder%% 
.%% 
AddForeignKey%% *
(%%* +
name&& 
:&& 
$str&& 5
,&&5 6
table'' 
:'' 
$str''  
,''  !
column(( 
:(( 
$str((  
,((  !
principalTable)) 
:)) 
$str))  -
,))- .
principalColumn** 
:**  
$str**! %
,**% &
onDelete++ 
:++ 
ReferentialAction++ +
.+++ ,
Cascade++, 3
)++3 4
;++4 5
},, 	
	protected.. 
override.. 
void.. 
Down..  $
(..$ %
MigrationBuilder..% 5
migrationBuilder..6 F
)..F G
{// 	
migrationBuilder00 
.00 
DropForeignKey00 +
(00+ ,
name11 
:11 
$str11 5
,115 6
table22 
:22 
$str22  
)22  !
;22! "
migrationBuilder44 
.44 
	DropIndex44 &
(44& '
name55 
:55 
$str55 )
,55) *
table66 
:66 
$str66  
)66  !
;66! "
migrationBuilder88 
.88 
AlterColumn88 (
<88( )
Guid88) -
>88- .
(88. /
name99 
:99 
$str99 
,99 
table:: 
::: 
$str::  
,::  !
type;; 
:;; 
$str;; 
,;; 
nullable<< 
:<< 
false<< 
,<<  

oldClrType== 
:== 
typeof== "
(==" #
string==# )
)==) *
,==* +
oldType>> 
:>> 
$str>> 
)>>  
;>>  !
migrationBuilder@@ 
.@@ 
	AddColumn@@ &
<@@& '
string@@' -
>@@- .
(@@. /
nameAA 
:AA 
$strAA 
,AA  
tableBB 
:BB 
$strBB  
,BB  !
typeCC 
:CC 
$strCC 
,CC 
nullableDD 
:DD 
trueDD 
)DD 
;DD  
migrationBuilderFF 
.FF 
CreateIndexFF (
(FF( )
nameGG 
:GG 
$strGG *
,GG* +
tableHH 
:HH 
$strHH  
,HH  !
columnII 
:II 
$strII !
)II! "
;II" #
migrationBuilderKK 
.KK 
AddForeignKeyKK *
(KK* +
nameLL 
:LL 
$strLL 6
,LL6 7
tableMM 
:MM 
$strMM  
,MM  !
columnNN 
:NN 
$strNN !
,NN! "
principalTableOO 
:OO 
$strOO  -
,OO- .
principalColumnPP 
:PP  
$strPP! %
)PP% &
;PP& '
}QQ 	
}RR 
}SS Ò
¦D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\Customer\CustomerReadRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class "
CustomerReadRepository '
:( )
ReadRepository* 8
<8 9
ETicaretAPI9 D
.D E
DomainE K
.K L
EntitiesL T
.T U
CustomerU ]
>] ^
,^ _#
ICustomerReadRepository` w
{ 
public "
CustomerReadRepository %
(% & 
ETicaretAPIDbContext& :
context; B
)B C
:D E
baseF J
(J K
contextK R
)R S
{		 	
}

 	
} 
} ×
§D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\Customer\CustomerWriteRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class #
CustomerWriteRepository (
:) *
WriteRepository+ :
<: ;
ETicaretAPI; F
.F G
DomainG M
.M N
EntitiesN V
.V W
CustomerW _
>_ `
,` a$
ICustomerWriteRepositoryb z
{ 
public #
CustomerWriteRepository &
(& ' 
ETicaretAPIDbContext' ;
context< C
)C D
:E F
baseG K
(K L
contextL S
)S T
{		 	
} 	
} 
} º
žD:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\File\FileReadRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class 
FileReadRepository #
:$ %
ReadRepository& 4
<4 5
ETicaretAPI5 @
.@ A
DomainA G
.G H
EntitiesH P
.P Q
FileQ U
>U V
,V W
IFileReadRepositoryX k
{ 
public		 
FileReadRepository		 !
(		! " 
ETicaretAPIDbContext		" 6
context		7 >
)		> ?
:		@ A
base		B F
(		F G
context		G N
)		N O
{

 	
} 	
} 
} ¿
ŸD:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\File\FileWriteRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class 
FileWriteRepository $
:% &
WriteRepository' 6
<6 7
ETicaretAPI7 B
.B C
DomainC I
.I J
EntitiesJ R
.R S
FileS W
>W X
,X Y 
IFileWriteRepositoryZ n
{ 
public		 
FileWriteRepository		 "
(		" # 
ETicaretAPIDbContext		# 7
context		8 ?
)		? @
:		A B
base		C G
(		G H
context		H O
)		O P
{

 	
} 	
} 
} å
¬D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\InvoiceFile\InvoiceFileReadRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class %
InvoiceFileReadRepository *
:+ ,
ReadRepository- ;
<; <
ETicaretAPI< G
.G H
DomainH N
.N O
EntitiesO W
.W X
InvoiceFileX c
>c d
,d e'
IInvoiceFileReadRepository	f €
{ 
public		 %
InvoiceFileReadRepository		 (
(		( ) 
ETicaretAPIDbContext		) =
context		> E
)		E F
:		G H
base		I M
(		M N
context		N U
)		U V
{

 	
} 	
} 
} ê
­D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\InvoiceFile\InvoiceFileWriteRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class &
InvoiceFileWriteRepository +
:, -
WriteRepository. =
<= >
ETicaretAPI> I
.I J
DomainJ P
.P Q
EntitiesQ Y
.Y Z
InvoiceFileZ e
>e f
,f g(
IInvoiceFileWriteRepository	h ƒ
{ 
public		 &
InvoiceFileWriteRepository		 )
(		) * 
ETicaretAPIDbContext		* >
context		? F
)		F G
:		H I
base		J N
(		N O
context		O V
)		V W
{

 	
} 	
} 
} ½
 D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\Order\OrderReadRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Order/ 4
{ 
public 

class 
OrderReadRepository $
:% &
ReadRepository' 5
<5 6
ETicaretAPI6 A
.A B
DomainB H
.H I
EntitiesI Q
.Q R
OrderR W
>W X
,X Y 
IOrderReadRepositoryZ n
{ 
public		 
OrderReadRepository		 "
(		" # 
ETicaretAPIDbContext		# 7
context		8 ?
)		? @
:		A B
base		C G
(		G H
context		H O
)		O P
{

 	
} 	
} 
} Â
¡D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\Order\OrderWriteRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Order/ 4
{ 
public 

class  
OrderWriteRepository %
:& '
WriteRepository( 7
<7 8
ETicaretAPI8 C
.C D
DomainD J
.J K
EntitiesK S
.S T
OrderT Y
>Y Z
,Z [!
IOrderWriteRepository\ q
{ 
public		  
OrderWriteRepository		 #
(		# $ 
ETicaretAPIDbContext		$ 8
context		9 @
)		@ A
:		B C
base		D H
(		H I
context		I P
)		P Q
{

 	
} 	
} 
} ƒ
¶D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\ProductImageFile\ProductImageFileReadRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class *
ProductImageFileReadRepository /
:0 1
ReadRepository2 @
<@ A
ETicaretAPIA L
.L M
DomainM S
.S T
EntitiesT \
.\ ]
ProductImageFile] m
>m n
,n o,
IProductImageFileReadRepository	p 
{ 
public		 *
ProductImageFileReadRepository		 -
(		- . 
ETicaretAPIDbContext		. B
context		C J
)		J K
:		L M
base		N R
(		R S
context		S Z
)		Z [
{

 	
} 	
} 
} ˆ
·D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\ProductImageFile\ProductImageFileWriteRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Customer/ 7
{ 
public 

class +
ProductImageFileWriteRepository 0
:1 2
WriteRepository3 B
<B C
ETicaretAPIC N
.N O
DomainO U
.U V
EntitiesV ^
.^ _
ProductImageFile_ o
>o p
,p q-
 IProductImageFileWriteRepository	r ’
{ 
public		 +
ProductImageFileWriteRepository		 .
(		. / 
ETicaretAPIDbContext		/ C
context		D K
)		K L
:		M N
base		O S
(		S T
context		T [
)		[ \
{

 	
} 	
} 
} Ë
¤D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\Product\ProductReadRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Product/ 6
{ 
public 

class !
ProductReadRepository &
:' (
ReadRepository) 7
<7 8
ETicaretAPI8 C
.C D
DomainD J
.J K
EntitiesK S
.S T
ProductT [
>[ \
,\ ]"
IProductReadRepository^ t
{ 
public		 !
ProductReadRepository		 $
(		$ % 
ETicaretAPIDbContext		% 9
context		: A
)		A B
:		C D
base		E I
(		I J
context		J Q
)		Q R
{

 	
} 	
} 
} Ð
¥D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\Product\ProductWriteRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
.. /
Product/ 6
{ 
public 

class "
ProductWriteRepository '
:( )
WriteRepository* 9
<9 :
ETicaretAPI: E
.E F
DomainF L
.L M
EntitiesM U
.U V
ProductV ]
>] ^
,^ _#
IProductWriteRepository` w
{		 
public

 "
ProductWriteRepository

 %
(

% & 
ETicaretAPIDbContext

& :
context

; B
)

B C
:

D E
base

F J
(

J K
context

K R
)

R S
{ 	
} 	
} 
} ´&
•D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\ReadRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
{ 
public		 

class		 
ReadRepository		 
<		  
T		  !
>		! "
:		# $
IReadRepository		% 4
<		4 5
T		5 6
>		6 7
where		8 =
T		> ?
:		@ A

BaseEntity		B L
{

 
private 
readonly  
ETicaretAPIDbContext -
_context. 6
;6 7
public 
ReadRepository 
(  
ETicaretAPIDbContext 2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
DbSet 
< 
T 
> 
Table 
=>  
_context! )
.) *
Set* -
<- .
T. /
>/ 0
(0 1
)1 2
;2 3
public 

IQueryable 
< 
T 
> 
GetAll #
(# $
bool$ (
tracking) 1
=2 3
true4 8
)8 9
{ 	
var 
query 
= 
Table 
. 
AsQueryable )
() *
)* +
;+ ,
if 
( 
! 
tracking 
) 
{ 
query 
= 
query 
. 
AsNoTracking *
(* +
)+ ,
;, -
} 
return 
query 
; 
} 	
public 

IQueryable 
< 
T 
> 
GetWhere %
(% &

Expression& 0
<0 1
Func1 5
<5 6
T6 7
,7 8
bool9 =
>= >
>> ?
method@ F
,F G
boolH L
trackingM U
=V W
trueX \
)\ ]
{ 	
var 
query 
= 
Table 
. 
Where #
(# $
method$ *
)* +
;+ ,
if   
(   
!   
tracking   
)   
{!! 
query"" 
="" 
query"" 
."" 
AsNoTracking"" *
(""* +
)""+ ,
;"", -
}## 
return$$ 
query$$ 
;$$ 
}%% 	
public&& 
async&& 
Task&& 
<&& 
T&& 
>&& 
GetSingleAsync&& +
(&&+ ,

Expression&&, 6
<&&6 7
Func&&7 ;
<&&; <
T&&< =
,&&= >
bool&&? C
>&&C D
>&&D E
method&&F L
,&&L M
bool&&N R
tracking&&S [
=&&\ ]
true&&^ b
)&&b c
{'' 	
var(( 
query(( 
=(( 
Table(( 
.(( 
AsQueryable(( )
((() *
)((* +
;((+ ,
if)) 
()) 
!)) 
tracking)) 
))) 
{** 
query++ 
=++ 
query++ 
.++ 
AsNoTracking++ *
(++* +
)+++ ,
;++, -
},, 
return-- 
await-- 
query-- 
.-- 
FirstOrDefaultAsync-- 2
(--2 3
method--3 9
)--9 :
;--: ;
}// 	
public00 
async00 
Task00 
<00 
T00 
>00 
GetByIdAsync00 )
(00) *
string00* 0
id001 3
,003 4
bool005 9
tracking00: B
=00C D
true00E I
)00I J
{11 	
var22 
query22 
=22 
Table22 
.22 
AsQueryable22 )
(22) *
)22* +
;22+ ,
if33 
(33 
!33 
tracking33 
)33 
{44 
query55 
=55 
query55 
.55 
AsNoTracking55 *
(55* +
)55+ ,
;55, -
}66 
return77 
await77 
query77 
.77 
FirstOrDefaultAsync77 2
(772 3
x773 4
=>775 7
x778 9
.779 :
Id77: <
==77= ?
Guid77@ D
.77D E
Parse77E J
(77J K
id77K M
)77M N
)77N O
;77O P
}99 	
}:: 
};; Ú%
–D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\WriteRepository.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Repositories" .
{ 
public		 

class		 
WriteRepository		  
<		  !
T		! "
>		" #
:		$ %
IWriteRepository		& 6
<		6 7
T		7 8
>		8 9
where		: ?
T		@ A
:		B C

BaseEntity		D N
{

 
private 
readonly  
ETicaretAPIDbContext -
_context. 6
;6 7
public 
WriteRepository 
(  
ETicaretAPIDbContext 3
context4 ;
); <
{ 	
_context 
= 
context 
; 
} 	
public 
DbSet 
< 
T 
> 
Table 
=>  
_context! )
.) *
Set* -
<- .
T. /
>/ 0
(0 1
)1 2
;2 3
public 
async 
Task 
< 
bool 
> 
AddAsync  (
(( )
T) *
entity+ 1
)1 2
{ 	
EntityEntry 
< 
T 
> 
entityEntry &
=' (
await) .
Table/ 4
.4 5
AddAsync5 =
(= >
entity> D
)D E
;E F
return 
entityEntry 
. 
State $
==% '
EntityState( 3
.3 4
Added4 9
;9 :
} 	
public 
async 
Task 
< 
bool 
> 
AddRangeAsync  -
(- .
List. 2
<2 3
T3 4
>4 5
datas6 ;
); <
{ 	
await 
Table 
. 
AddRangeAsync %
(% &
datas& +
)+ ,
;, -
return 
true 
; 
} 	
public   
bool   
Remove   
(   
T   
entity   #
)  # $
{!! 	
EntityEntry"" 
<"" 
T"" 
>"" 
entityEntry"" &
=""' (
Table"") .
."". /
Remove""/ 5
(""5 6
entity""6 <
)""< =
;""= >
return## 
entityEntry## 
.## 
State## $
==##% '
EntityState##( 3
.##3 4
Deleted##4 ;
;##; <
}$$ 	
public%% 
bool%% 
RemoveRange%% 
(%%  
List%%  $
<%%$ %
T%%% &
>%%& '
datas%%( -
)%%- .
{&& 	
Table'' 
.'' 
RemoveRange'' 
('' 
datas'' #
)''# $
;''$ %
return(( 
true(( 
;(( 
}** 	
public++ 
async++ 
Task++ 
<++ 
bool++ 
>++ 
RemoveAsync++  +
(+++ ,
string++, 2
id++3 5
)++5 6
{,, 	
T-- 
model-- 
=-- 
await-- 
Table-- !
.--! "
FirstOrDefaultAsync--" 5
(--5 6
data--6 :
=>--; =
data--> B
.--B C
Id--C E
==--F H
Guid--I M
.--M N
Parse--N S
(--S T
id--T V
)--V W
)--W X
;--X Y
return.. 
Remove.. 
(.. 
model.. 
)..  
;..  !
}// 	
public00 
bool00 
Update00 
(00 
T00 
entity00 #
)00# $
{11 	
EntityEntry22 
entityEntry22 #
=22$ %
Table22& +
.22+ ,
Update22, 2
(222 3
entity223 9
)229 :
;22: ;
return33 
entityEntry33 
.33 
State33 $
==33% '
EntityState33( 3
.333 4
Modified334 <
;33< =
}44 	
public55 
async55 
Task55 
<55 
int55 
>55 
	SaveAsync55 (
(55( )
)55) *
{66 	
return77 
await77 
_context77 !
.77! "
SaveChangesAsync77" 2
(772 3
)773 4
;774 5
}88 	
};; 
}<< !
D:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\ServiceRegistration.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
{ 
public 

static 
class 
ServiceRegistration +
{ 
public 
static 
void "
AddPersistenceServices 1
(1 2
this2 6
IServiceCollection7 I
servicesJ R
)R S
{ 	
services 
. 
AddDbContext !
<! " 
ETicaretAPIDbContext" 6
>6 7
(7 8
opt8 ;
=>< >
{ 
opt 
. 
	UseNpgsql 
( 
Configuration +
.+ ,
ConnectionString, <
)< =
;= >
} 
) 
; 
services 
. 
AddIdentity  
<  !
AppUser! (
,( )
AppRole) 0
>0 1
(1 2
)2 3
.3 4$
AddEntityFrameworkStores4 L
<L M 
ETicaretAPIDbContextM a
>a b
(b c
)c d
;d e
services   
.   
	AddScoped   
<   #
ICustomerReadRepository   6
,  6 7"
CustomerReadRepository  8 N
>  N O
(  O P
)  P Q
;  Q R
services!! 
.!! 
	AddScoped!! 
<!! $
ICustomerWriteRepository!! 7
,!!7 8#
CustomerWriteRepository!!9 P
>!!P Q
(!!Q R
)!!R S
;!!S T
services## 
.## 
	AddScoped## 
<##  
IOrderReadRepository## 3
,##3 4
OrderReadRepository##5 H
>##H I
(##I J
)##J K
;##K L
services$$ 
.$$ 
	AddScoped$$ 
<$$ !
IOrderWriteRepository$$ 4
,$$4 5 
OrderWriteRepository$$6 J
>$$J K
($$K L
)$$L M
;$$M N
services&& 
.&& 
	AddScoped&& 
<&& "
IProductReadRepository&& 5
,&&5 6!
ProductReadRepository&&7 L
>&&L M
(&&M N
)&&N O
;&&O P
services'' 
.'' 
	AddScoped'' 
<'' #
IProductWriteRepository'' 6
,''6 7"
ProductWriteRepository''8 N
>''N O
(''O P
)''P Q
;''Q R
services)) 
.)) 
	AddScoped)) 
<)) 
IFileReadRepository)) 2
,))2 3
FileReadRepository))4 F
>))F G
())G H
)))H I
;))I J
services** 
.** 
	AddScoped** 
<**  
IFileWriteRepository** 3
,**3 4
FileWriteRepository**5 H
>**H I
(**I J
)**J K
;**K L
services,, 
.,, 
	AddScoped,, 
<,, &
IInvoiceFileReadRepository,, 9
,,,9 :%
InvoiceFileReadRepository,,; T
>,,T U
(,,U V
),,V W
;,,W X
services-- 
.-- 
	AddScoped-- 
<-- '
IInvoiceFileWriteRepository-- :
,--: ;&
InvoiceFileWriteRepository--< V
>--V W
(--W X
)--X Y
;--Y Z
services// 
.// 
	AddScoped// 
<// +
IProductImageFileReadRepository// >
,//> ?*
ProductImageFileReadRepository//@ ^
>//^ _
(//_ `
)//` a
;//a b
services00 
.00 
	AddScoped00 
<00 ,
 IProductImageFileWriteRepository00 ?
,00? @+
ProductImageFileWriteRepository00A `
>00` a
(00a b
)00b c
;00c d
services22 
.22 
	AddScoped22 
<22 
IUserService22 +
,22+ ,
UserService22- 8
>228 9
(229 :
)22: ;
;22; <
}33 	
}44 
}55 Ž 
ŽD:\KiÅŸisel\Private-Yazilim-Dersleri\YazÄ±lÄ±m Dersleri\11-ETicaret\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\UserService.cs
	namespace 	
ETicaretAPI
 
. 
Persistence !
.! "
Services" *
{ 
public		 

class		 
UserService		 
:		 
IUserService		 +
{

 
private 
readonly 
UserManager $
<$ %
Domain% +
.+ ,
Entities, 4
.4 5
Identity5 =
.= >
AppUser> E
>E F
_userManagerG S
;S T
public 
UserService 
( 
UserManager &
<& '
Domain' -
.- .
Entities. 6
.6 7
Identity7 ?
.? @
AppUser@ G
>G H
userManagerI T
)T U
{ 	
_userManager 
= 
userManager &
;& '
} 	
public 
async 
Task 
< 
CreateUserResponse ,
>, -
CreateAsync. 9
(9 :

CreateUser: D
userE I
)I J
{ 	
IdentityResult 
result !
=" #
await$ )
_userManager* 6
.6 7
CreateAsync7 B
(B C
newC F
(F G
)G H
{ 
UserName 
= 
user 
.  
Username  (
,( )
Email 
= 
user 
. 
Email "
," #
NameSurname 
= 
user "
." #
NameSurname# .
,. /
Id 
= 
Guid 
. 
NewGuid !
(! "
)" #
.# $
ToString$ ,
(, -
)- .
} 
, 
user 
. 
Password 
) 
; 
if 
( 
result 
. 
	Succeeded  
)  !
{ 
return 
new 
CreateUserResponse -
(- .
). /
{0 1
Success2 9
=: ;
true< @
,@ A
MessageB I
=J K
$strL Y
}Z [
;[ \
} 
else   
{!! 
return"" 
new"" 
CreateUserResponse"" -
(""- .
)"". /
{""0 1
Success""2 9
="": ;
false""< A
,""A B
Message""C J
=""K L
$str""M ]
}""^ _
;""_ `
}%% 
}&& 	
public)) 
async)) 
Task)) 
UpdateRefreshToken)) ,
()), -
string))- 3
refreshToken))4 @
,))@ A
string))B H
userId))I O
,))O P
DateTime))Q Y
accessTokenDate))Z i
,))i j
int))j m!
refreshTokenLifeTime	))n ‚
)
))‚ ƒ
{** 	
AppUser++ 
user++ 
=++ 
await++  
_userManager++! -
.++- .
FindByIdAsync++. ;
(++; <
userId++< B
)++B C
;++C D
if,, 
(,, 
user,, 
!=,, 
null,, 
),, 
{-- 
user.. 
... 
RefreshToken.. !
=.." #
refreshToken..$ 0
;..0 1
user// 
.// 
RefreshTokenEndDate// (
=//) *
accessTokenDate//+ :
.//: ;

AddMinutes//; E
(//E F 
refreshTokenLifeTime//F Z
)//Z [
;//[ \
await00 
_userManager00 "
.00" #
UpdateAsync00# .
(00. /
user00/ 3
)003 4
;004 5
}11 
}22 	
}33 
}44 